<%= javascript_tag "window._token = '#{form_authenticity_token}'" %>
<div class="row mb-1">
  <div class="col-6 col-lg-2 order-2 order-lg-1">
    <%= link_to 'Select Your Cards', select_cards_path,
      class: "btn btn-secondary btn-sm#{' btn-attention' if @user_cards.empty?}" %>
  </div>
  <div class="col-12 col-lg-8 order-1 order-lg-2 mb-2 mb-lg-0 text-center">
    <%= render 'form', url: my_cards_path %>
  </div>
  <div class="col-6 col-lg-2 order-3 d-flex align-items-end justify-content-end">
    <div class="hide-toggle text-right">
      <label for="toggle-owned" class="mb-0 mr-1">Hide Owned</label>
      <input type="checkbox" id="toggle-owned" />
    </div>
  </div>
</div>
<table class="table table-striped table-sm shadow p-3 mt-2 mb-5" id="my-cards">
  <thead>
    <tr>
      <th scope="col"></th> <!-- Image -->
      <th scope="col"><%= sort_link(@q, :name) %></th>
      <th scope="col"><%= sort_link(@q, :type_id, 'Type') %></th>
      <th scope="col"><%= sort_link(@q, :stars, 'Rarity') %></th>
      <th scope="col" class="text-center">Stats</th>
      <th scope="col">Source</th>
      <th scope="col" class="text-right"><%= sort_link(@q, :patch, [:patch, :id]) %></th>
      <th scope="col" class="text-center pr-0">Own</th>
    </tr>
  </thead>
  <tbody>
    <%= render 'table_data', cards: @cards, user_cards: @user_cards %>
  </tbody>
</table>
